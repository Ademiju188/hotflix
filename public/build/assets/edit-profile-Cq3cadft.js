import{K as j,r as o,m as p,j as e,$ as _}from"./app-BS6cv_Wc.js";import{U as g}from"./user-layout-CkaxAQqQ.js";import{I as d}from"./input-error-CEjlMKIS.js";import{S as f}from"./slimselect-wN7lXC_P.js";import{L as N}from"./loader-circle-CewO-iXb.js";import"./header-H3Zzqg1h.js";import"./ReactToastify-DVt3X755.js";import"./clsx-B-dksMZM.js";import"./useDynamicCss-3Y8c1bj2.js";import"./createLucideIcon-cEInIR7a.js";function R({countries:u}){var m;const{props:i}=j(),l=(m=i==null?void 0:i.auth)==null?void 0:m.user,r=o.useRef(null),{data:a,setData:c,post:x,errors:t,processing:n}=p({name:l.name,country:l.country_id}),h=async s=>{s.preventDefault(),x(route("user.profile.update"))};return o.useEffect(()=>{if(!r.current)return;const s=new f({select:r.current,settings:{showSearch:!0,placeholderText:"Select Country",closeOnSelect:!0,isMultiple:!1}});return a!=null&&a.country&&s.setSelected(`${a.country}`),()=>{s.destroy()}},[]),e.jsx(g,{title:"Edit Profile",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"main__title",children:[e.jsx(_,{href:route("user.dashboard"),className:"me-3 bg-dark p-2 rounded-circle text-white",children:e.jsx("i",{className:"ti ti-arrow-back fw-bolder",style:{fontSize:"30px"}})}),e.jsx("h2",{children:"Edit Profile"})]})}),e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"profile__content",children:e.jsxs("div",{className:"profile__user",children:[e.jsx("div",{className:"profile__avatar",children:e.jsx("img",{src:"/assets/backend/img/user.svg",alt:""})}),e.jsxs("div",{className:"profile__meta profile__meta--green",children:[e.jsxs("h3",{children:[l.name," ",e.jsx("span",{children:"(Approved)"})]}),e.jsxs("span",{children:["Reels Binge"," ID: ",l.uuid]})]})]})})}),e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 col-lg-8",children:e.jsx("form",{onSubmit:h,className:"sign__form sign__form--profile",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsx("h4",{className:"sign__title",children:"Profile details"})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"sign__group",children:[e.jsx("label",{className:"sign__label",htmlFor:"fname",children:"Full Name"}),e.jsx("input",{id:"fname",type:"text",name:"fname",className:"sign__input",value:a.name,onChange:s=>c("name",s.target.value)}),e.jsx(d,{message:t.name})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"sign__group",children:[e.jsx("label",{className:"sign__label",htmlFor:"fname",children:"Select Country"}),e.jsxs("select",{className:"sign__selectjs",id:"sign__genre",ref:r,onChange:s=>c("country",s.target.value),children:[e.jsx("option",{value:""}),u.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx(d,{message:t.country})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"sign__group",children:[e.jsx("label",{className:"sign__label",htmlFor:"username",children:"Username"}),e.jsx("input",{id:"username",type:"text",name:"username",value:l.username,className:"sign__input",readOnly:!0})]})}),e.jsx("div",{className:"col-12 col-md-6",children:e.jsxs("div",{className:"sign__group",children:[e.jsx("label",{className:"sign__label",htmlFor:"email2",children:"Email"}),e.jsx("input",{id:"email2",type:"text",name:"email",className:"sign__input",value:l.email,readOnly:!0})]})}),e.jsx("div",{className:"col-12",children:e.jsx("button",{className:"sign__btn sign__btn--small",type:"submit",disabled:n,children:e.jsxs("span",{children:[n&&e.jsx(N,{className:"animate-spin mr-2 fs-1"})," ",n?"Saving...":"Save"]})})})]})})})})})]})})})}export{R as default};
