import{r as h,m as C,S as g,j as e,L as S}from"./app-iXmw2z_F.js";import{I as u}from"./input-error-JX4fCH7R.js";import{I}from"./input-field-Babt2Miw.js";import{A}from"./app-layout-CUYHb3U_.js";import{P as k}from"./pagination-BNyBzCbn.js";import{l as E}from"./lodash-Ctt19rHt.js";import{L as T}from"./loader-circle-CjzKTp_M.js";import"./clsx-B-dksMZM.js";const $=({categories:a})=>{const[n,p]=h.useState(""),[s,o]=h.useState({name:"",description:"",active:!0}),{data:i,setData:l,post:m,processing:x,errors:c,reset:_}=C({name:"",description:"",active:!0}),r=E.debounce(t=>{g.get(route("system.category.index"),{search:t},{preserveState:!0,replace:!0,only:["categories"]})},300);h.useEffect(()=>{const t=n.trim();return t?r(t):a.data.length===0&&g.get(route("system.category.index"),{},{preserveState:!0,replace:!0,only:["categories"]}),()=>{r.cancel&&r.cancel()}},[n]);const v=t=>{t.preventDefault(),s.id!==void 0?m(route("system.category.update",s.id),{onSuccess:()=>j()}):m(route("system.category.store"),{onSuccess:()=>j()})},N=()=>{o({name:"",description:"",active:!0}),l({name:"",description:"",active:!0})},b=t=>{o(t),l({name:t.name,description:t.description,active:t.active})},j=()=>{const t=document.getElementById("model-category");t&&bootstrap.Modal.getInstance(t).hide(),o({name:"",description:"",active:!0}),_()},y=t=>{confirm(`Are you sure you want to delete: ${t.name}?`)&&m(route("system.category.destroy",t.id))};return e.jsxs(e.Fragment,{children:[e.jsx(S,{title:"Manage Category"}),e.jsxs(A,{title:"Manage Category",mainTitle:!1,children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"main__title",children:[e.jsx("h2",{children:"Manage Categories"}),e.jsxs("span",{className:"main__title-stat",children:[a.data.length," Total"]}),e.jsxs("div",{className:"main__title-wrap",children:[e.jsx("button",{type:"button","data-bs-toggle":"modal",className:"main__title-link main__title-link--wrap","data-bs-target":"#model-category",onClick:t=>N(),children:"Add Category"}),e.jsxs("form",{onSubmit:t=>r,className:"main__title-form",children:[e.jsx("input",{type:"text",placeholder:"Find Category..",value:n,onChange:t=>p(t.target.value)}),e.jsx("button",{type:"submit",disabled:!n.trim(),children:e.jsx("i",{className:"ti ti-search"})})]})]})]})}),e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"catalog catalog--1",children:e.jsxs("table",{className:"catalog__table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"SN"}),e.jsx("th",{children:"TITLE"}),e.jsx("th",{children:"DESCRIPTION"}),e.jsx("th",{children:"STATUS"}),e.jsx("th",{children:"CRAETED DATE"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:a.data.length>0?a.data.map((t,d)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("div",{className:"catalog__text",children:++d})}),e.jsx("td",{children:e.jsx("div",{className:"catalog__text",children:t.name})}),e.jsx("td",{children:e.jsx("div",{className:"catalog__text",children:t.description??"N/A"})}),e.jsx("td",{children:e.jsx("div",{className:`catalog__text catalog__text--${t.active?"green":"red"}`,children:t.active?"Active":"In-Active"})}),e.jsx("td",{children:e.jsx("div",{className:"catalog__text",children:t.created_at})}),e.jsx("td",{children:e.jsxs("div",{className:"catalog__btns",children:[e.jsx("button",{className:"catalog__btn catalog__btn--edit","data-bs-toggle":"modal","data-bs-target":"#model-category",onClick:f=>b(t),children:e.jsx("i",{className:"ti ti-edit"})}),e.jsx("button",{type:"button",className:"catalog__btn catalog__btn--delete",onClick:f=>y(t),children:e.jsx("i",{className:"ti ti-trash"})})]})})]},t.id.toString())):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center",children:e.jsx("div",{className:"catalog__text text-center",children:"No Records Found!"})})})})]})})}),e.jsx(k,{links:a.meta.links,meta:a.meta})]}),e.jsx("div",{className:"modal fade",id:"model-category",tabIndex:"-1","aria-labelledby":"model-category","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsx("div",{className:"modal-content",children:e.jsx("div",{className:"modal__content",children:e.jsxs("form",{onSubmit:v,className:"modal__form",children:[e.jsx("h4",{className:"modal__title",children:s!=null&&s.id?"Update Category":"Add Category"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"sign__group",children:[e.jsx(I,{name:"name",value:i.name,onChange:(t,d)=>l({...i,[t]:d}),placeholder:"Title",error:c.name}),e.jsx(u,{message:c.name})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"sign__group",children:[e.jsx("textarea",{id:"text",name:"text",className:`sign__textarea ${c.description?"is-invalid":""}`,placeholder:"Description",onChange:t=>l("description",t.target.value),defaultValue:i.description}),e.jsx(u,{message:c.description})]})}),e.jsxs("div",{className:"sign__group sign__group--checkbox",children:[e.jsx("input",{id:"active",name:"active",type:"checkbox",checked:i.active,onClick:()=>l("active",!i.active)}),e.jsx("label",{htmlFor:"active",children:"Status"})]}),e.jsx("div",{className:"col-12 col-lg-6 offset-lg-3",children:e.jsxs("button",{type:"submit",className:"sign__btn sign__btn--modal",disabled:x,children:[x&&e.jsx(T,{className:"h-6 w-4 mr-2 animate-spin"})," ",x?"Saving...":"Save"]})})]})]})})})})})]})]})};export{$ as default};
